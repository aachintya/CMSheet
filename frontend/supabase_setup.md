# Supabase Setup Instructions

To make the login and progress tracking work, follow these steps in your [Supabase Dashboard](https://supabase.com/dashboard):

## 1. Create a `user_progress` Table
Go to the **SQL Editor** in your Supabase project and run the following script:

```sql
-- Create the progress tracking table
CREATE TABLE user_progress (
  id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  user_id UUID REFERENCES auth.users(id) ON DELETE CASCADE,
  problem_title TEXT NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL,
  UNIQUE(user_id, problem_title)
);

-- Enable Row Level Security (RLS)
ALTER TABLE user_progress ENABLE ROW LEVEL SECURITY;

-- Create Policies so users can only see/edit their own data
CREATE POLICY "Users can view their own progress" ON user_progress
  FOR SELECT USING (auth.uid() = user_id);

CREATE POLICY "Users can insert their own progress" ON user_progress
  FOR INSERT WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Users can delete their own progress" ON user_progress
  FOR DELETE USING (auth.uid() = user_id);
```

## 2. Get your API Keys
1. Go to **Project Settings** > **API**.
2. Copy your **Project URL** and **`anon` public key**.
3. Create a `.env` file in your `frontend` directory (or update `src/supabaseClient.js` directly):

```env
VITE_SUPABASE_URL=your_project_url
VITE_SUPABASE_ANON_KEY=your_anon_key
```

## 3. Disable Email Confirmation (Optional for Testing)
To allow immediate login without verifying emails:
1. Go to **Authentication** > **Providers** > **Email**.
2. Toggle **Confirm email** to **OFF**.
